<div class="container-fluid">
		<% if visions.present? %>
			<% visions.each do |vision| %>
				<div class="row col-10 shadow p-3 mb-3 bg-white rounded">
					<div class="col-2 d-flex justify-content-center my-auto ">
						<%= link_to user_path(vision.user) do %>
						<div class="profile_image pb-3"><%= image_tag vision.user.get_profile_image, size: "100x100", class: "rounded-circle" %></div>
						<div class="text-center text-dark"><%= vision.user.name %></div>
						<% end %>
				  </div>
				  <div class="col-3 text-center my-auto">
				  	<%= link_to vision_path(vision) do %>
				  	<p><%= vision.title %></p>
				  	<% end %>
				  </div>
				  <div class="col-4">
				  	<canvas id="<%= vision.id %>"></canvas>
							<script>
							    var ctx = document.getElementById("<%= vision.id %>");
							    var data = [<%= vision.tasks.where(completion_status: true).count %>, <%= vision.tasks.where(completion_status: false).count %>]
							    var myLineChart = new Chart(ctx, {
							      type: 'pie' ,
							      data: {
							        labels: ['DONE', 'YET'],
							        datasets: [{
							          data: data,
							          backgroundColor: ['#48f', '#e03448'],
							        }],
							      },
							      Options: {
							        pie: {
							        }
							      }
							    });
							</script>
				  </div>
				  <div class="col text-center my-auto">
				    <%= render "public/visions/count", vision: vision %>
				  </div>
				</div>
			<% end %>
		<% else %>
			<h3>対応する投稿はありませんでした。</h3>
		<% end %>
</div>